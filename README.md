# Пульт охраны банка

Этот проект поможет отслеживать посещения сотрудников предпириятия в помещении. На сайте есть два основных раздела: `Список активных карт доступа` и `Список пользователей в хранилище`.

В списке активных карт доступа отображается общее количество активных карт доступа, а также таблица, включающая в себя: имя и фамилия сотрудника, код его пропуска и дата регистрации карты. Нажав на имя сотрудника можно посмотреть историю его посещений, в таблице: дата и время посещения, продолжительность и метка (`False` или `True`), указывающая подозрительный визит. Подозрительным считается тот визит, продолжительность которого составила больше часа.

В списке пользователей в хранилище отображется общее количество людей, которые в данный момент находятся в помещении. В таблице отражена информация по этим людям: имя и фамилия сотрудника, дата и время входа и длительность нахождения в помщении.

## Как установить
### 1. Откройте терминал или командную строку
- **Windows**: Нажмите `Win + R`, введите `cmd` и нажмите `Enter`.
- **macOS**: Найдите "Терминал" через Spotlight (Cmd + Space).
- **Linux**: Откройте терминал через меню приложений или с помощью сочетания клавиш.

### 2. Убедитесь, что у вас установлен Python
Прежде чем запускать файл, убедитесь, что у вас установлен Python. Вы можете проверить это, открыв терминал или командную строку и введя:
`python --version`
или
`python3 --version`.
Если Python установлен, вы увидите версию Python. Если нет, скачайте и установите его с [официального сайта Python](https://www.python.org/downloads/). Гарантированная версия, на которой работает скрипт - 3.13.0.


### 3. Настройте параметры окружения

В настройках проекта необходимо указать ваши параметры. Для каждого пользователя параметры разные, поэтому они не встроены к программу и их вам нужно указать самостоятельно.

В директории проекта создайте файл `.env`, откройте его с помощью блокнота и построчно впишите туда следующие параметры:
```
DB_HOST=ХОСТ
```
`ХОСТ` - хост вашей базы данных.
```
DB_PORT=ПОРТ
```
`ПОРТ` - порт вашей базы данных.
```
DB_NAME=ИМЯ
```
`ИМЯ` - имя вашей базы данных.
```
DB_USER=ИМЯ
```
`ИМЯ` - имя пользователя базы данных.
```
PASSWORD=ПАРОЛЬ
```
`ПАРОЛЬ` - пароль к вашей базе данных.
```
LANGUAGE_CODE=ЯЗЫК_КОДА
```
`ЯЗЫК_КОДА` - это язык, на котором будет работать программа. Проект расчитан для русскоязычных пользователей, поэтому настройка отражается только на информаии о дате. Если не указать это значение, то проект будет работать по умолчанию с параметром `ru-ru`. Языковой код должен соответствовать стандарту [BCP 47](https://gpt-chatbot.ru/chat-gpt-ot-openai-dlya-generacii-teksta). Например:
`en-us` для английского (США), `fr` для французского, `de` для немецкого, `es` для испанского.
```
TIME_ZONE=ВРЕМЕННАЯ_ЗОНА
```
`ВРЕМЕННАЯ_ЗОНА` - временная зона вашего приложения. Если не указать это значение, то проект будет работать по умолчанию с параметром `Europe/Moscow`. Временные зоны должны следовать стандарту [IANA Time Zone Database](https://www.iana.org/time-zones). Например: `UTC` для всемирного координированного времени, `America/New_York` для восточного времени США, `Asia/Tokyo` для токийского времени, `Europe/London` для лондонского времени. 
```
SECRET_KEY=СЕКРЕТНЫЙ_КЛЮЧ
```
`СЕКРЕТНЫЙ_КЛЮЧ` - секретный ключ вашего сайта. Это важный элемент безопасности вашего приложения. Он используется для шифрования данных, генерации токенов и других криптографических операций. 
```
DEBUG=ФЛАГ
```
`ФЛАГ` - укажите `true`, если хотите чтобы приложение находилось в режиме отладки. `false` - если нет. В первом случае аварийное завершение работы сайта укажет в чем ошибка. Во втором - ифнормативности не будет. Обратите внимание, что, если приложение не находится в режиме отладки и включена настройка `true`, то это может привести к утечке конфиденциальной информации о вашем приложении в случае поломки сайта. Так как скрипт уже готов к использованию и отладка не требуется, и если не указать это значение, то проект будет работать по умолчанию с параметром `False`.

```
ALLOWED_HOSTS=РАЗРЕШЕННЫЕ_ХОСТЫ
```
`РАЗРЕШЕННЫЕ_ХОСТЫ` - список хостов через запятую, с которых ваше приложение может принимать запросы. По умолчанию программа использует локальный хост.

Таким образом содержание файла `.env` должно выглядеть примерно так:
```
DB_HOST=checkpoint.devman.org
DB_PORT=5434
DB_NAME=checkpoint
DB_USER=guard
DB_PASSWORD=osim5
LANGUAGE_CODE=ru-ru
TIME_ZONE=Europe/Moscow
SECRET_KEY=REPLACE_ME
DEBUG=false
ALLOWED_HOSTS=mywebsite.com
```
### 4. Перейдите в каталог с Python файлами
Используйте команду `cd` (change directory), чтобы перейти в каталог, где находится ваш файл. 
Пример для Windows: 
```
cd C:\Users\ВашеИмя\Documents\project
```
Пример для macOS/Linux: 
```
cd /Users/ВашеИмя/Documents/project
```

### 5. Создайте виртуальное окружение

Находясь в каталоге проекта создайте виртуальное окружение с помощью следующей команды:
```
python -m venv venv
```
или, если у вас несколько версий Python:
```
python3 -m venv venv
```
Здесь `venv` — это название папки, в которой будет создано виртуальное окружение. Вы можете выбрать другое имя, если хотите.

Теперь вам нужно активировать виртуальное окружение:
- На Windows:
```
venv\Scripts\activate
```
- На macOS и Linux:
```
source venv/bin/activate
```
### 6. Установка зависимостей

Используйте `pip` для установки зависимостей:
```
pip install -r requirements.txt
```
### 7. Запустите скрипт
Введите:
```
python manage.py runserver 0.0.0.0:8000
```
или
```
python3 manage.py runserver 0.0.0.0:8000
```
## Цель проекта

Код написан в образовательных целях на онлайн-курсе для веб-разработчиков [dvmn.org](https://dvmn.org/).
